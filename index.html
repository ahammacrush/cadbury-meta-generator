<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadbury Meta Description Generator</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #5e3a8e 0%, #2d1b4e 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        .container { max-width: 900px; margin: 0 auto; }
        .header { text-align: center; color: white; margin-bottom: 30px; }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        .header p { font-size: 1.1em; opacity: 0.9; }
        .card { background: white; border-radius: 15px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); margin-bottom: 20px; }
        .input-group { margin-bottom: 20px; }
        label { display: block; font-weight: 600; margin-bottom: 8px; color: #5e3a8e; font-size: 1.1em; }
        input { width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1em; transition: border-color 0.3s; }
        input:focus { outline: none; border-color: #5e3a8e; }
        .generate-btn {
            background: linear-gradient(135deg, #5e3a8e 0%, #7e4db8 100%);
            color: white; border: none; padding: 15px 40px; font-size: 1.1em; font-weight: 600;
            border-radius: 8px; cursor: pointer; width: 100%;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 15px rgba(94, 58, 142, 0.3);
        }
        .generate-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(94, 58, 142, 0.4); }
        .generate-btn:active { transform: translateY(0); }
        .generate-btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }
        .regenerate-btn {
            background: #ffffff; color: #5e3a8e; border: 2px solid #5e3a8e;
            padding: 12px 30px; font-size: 1em; font-weight: 600; border-radius: 8px;
            cursor: pointer; display: inline-flex; align-items: center; gap: 8px;
            transition: all 0.2s; margin-top: 15px;
        }
        .regenerate-btn:hover { background: #f8f5fc; transform: translateY(-1px); }
        .regenerate-btn:active { transform: translateY(0); }
        .regenerate-icon { display: inline-block; transition: transform 0.3s; }
        .regenerate-btn:hover .regenerate-icon { transform: rotate(180deg); }
        .results { margin-top: 30px; }
        .result-item {
            background: #f8f9fa; border-left: 4px solid #5e3a8e;
            padding: 20px; margin-bottom: 15px; border-radius: 8px;
        }
        .result-text { font-size: 1.1em; line-height: 1.6; color: #333; margin-bottom: 15px; }
        .result-meta { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px; }
        .char-count { font-size: 0.9em; color: #28a745; font-weight: 600; }
        .char-count.warning { color: #ffc107; }
        .char-count.error { color: #dc3545; }
        .actions { display: flex; gap: 10px; }
        .btn { padding: 8px 16px; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 0.9em; transition: all 0.2s; }
        .btn-approve { background: #28a745; color: white; }
        .btn-approve:hover { background: #218838; }
        .btn-copy { background: #6c757d; color: white; }
        .btn-copy:hover { background: #5a6268; }
        .btn-copy.copied { background: #28a745; }
        .loading { text-align: center; padding: 40px; }
        .spinner {
            border: 4px solid #f3f3f3; border-top: 4px solid #5e3a8e;
            border-radius: 50%; width: 40px; height: 40px;
            animation: spin 1s linear infinite; margin: 0 auto 20px;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .tips { background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin-bottom: 20px; border-radius: 5px; }
        .tips h4 { color: #856404; margin-bottom: 10px; }
        .tips ul { margin-left: 20px; color: #856404; }
        .tips li { margin-bottom: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üç´ Cadbury Meta Description Generator</h1>
            <p>Smart meta descriptions based on your site's top performers</p>
        </div>

        <div class="card">
            <div class="tips">
                <h4>‚ö° Ultra-Fast Meta Description Generator</h4>
                <ul>
                    <li><strong>Just type the product name</strong> and click generate - that's it!</li>
                    <li><strong>Product name appears first</strong> for optimal SEO</li>
                    <li><strong>85 proven templates</strong> - all generate 145-160 characters</li>
                    <li><strong>Message cards in quotes</strong> like "Best Mum", "Congratulations"</li>
                </ul>
            </div>

            <div class="input-group">
                <label for="productName">Product Name *</label>
                <input 
                    type="text" 
                    id="productName" 
                    placeholder='e.g., Best Mum Dairy Milk Chocolate Bar with Envelope'
                    required
                    onkeypress="if(event.key === 'Enter') generateDescriptions()"
                />
            </div>

            <button class="generate-btn" id="generateBtn" onclick="generateDescriptions()">
                ‚ú® Generate Meta Description
            </button>

            <div id="results" class="results" style="display: none;"></div>
        </div>
    </div>

    <script>
        // 85 PRODUCT-NAME-FIRST TEMPLATES - All 145-160 chars, SEO optimized
        const templates = [            // ENVELOPE TEMPLATES (25) - Product name first, message in quotes
            {id: 1, pattern: "Shop the Cadbury \"{message}\" Dairy Milk Bar with Envelope at Cadbury Gifts. Perfect for {occasion}, order by 4pm for next-day delivery.", categories: ["envelope"], tone: "direct"},
            {id: 2, pattern: "Treat {recipient} to the Cadbury \"{message}\" Chocolate Bar with Gift Envelope. Perfect for any occasion, shop with next-day delivery from Cadbury Gifts.", categories: ["envelope"], tone: "warm"},
            {id: 3, pattern: "Send the Cadbury \"{message}\" Dairy Milk Bar with Envelope to {recipient}. Perfect gift for {occasion}, delivered next day from Cadbury Gifts.", categories: ["envelope"], tone: "gifting"},
            {id: 4, pattern: "Shop the Cadbury \"{message}\" Chocolate Bar with Gift Sleeve. Perfect for any occasion, order by 4pm for next-day delivery from Cadbury Gifts.", categories: ["envelope"], tone: "efficient"},
            {id: 5, pattern: "Surprise {recipient} with the Cadbury \"{message}\" Dairy Milk Bar and Envelope. Perfect for celebrations, buy yours with next-day delivery from Cadbury Gifts.", categories: ["envelope"], tone: "surprising"},
            {id: 6, pattern: "Order the Cadbury \"{message}\" Chocolate Bar with Gift Envelope today. Perfect for {occasion}, delivered next day from Cadbury Gifts when you order by 4pm.", categories: ["envelope"], tone: "urgent"},
            {id: 7, pattern: "Gift them the Cadbury \"{message}\" Dairy Milk Bar with Envelope. Perfect chocolate gift for any occasion, shop with next-day delivery from Cadbury Gifts.", categories: ["envelope"], tone: "thoughtful"},
            {id: 8, pattern: "Spoil {recipient} with the Cadbury \"{message}\" Chocolate Bar and Gift Envelope. Perfect for celebrations, order now with next-day delivery from Cadbury Gifts.", categories: ["envelope"], tone: "indulgent"},
            {id: 9, pattern: "Buy the Cadbury \"{message}\" Dairy Milk Bar with Gift Sleeve at Cadbury Gifts. Perfect for any occasion, delivered next day when you order by 4pm.", categories: ["envelope"], tone: "practical"},
            {id: 10, pattern: "Send the Cadbury \"{message}\" Chocolate Bar with Envelope to their door. Perfect gift for {occasion}, shop with next-day delivery from Cadbury Gifts.", categories: ["envelope"], tone: "convenient"},
            {id: 11, pattern: "Celebrate {occasion} with the Cadbury \"{message}\" Dairy Milk Bar and Envelope. Perfect thoughtful gift, order by 4pm for next-day delivery from Cadbury Gifts.", categories: ["envelope"], tone: "celebratory"},
            {id: 12, pattern: "Shop the Cadbury {weight} \"{message}\" Chocolate Bar with Envelope. Perfect for any occasion, order online with next-day delivery from Cadbury Gifts.", categories: ["envelope"], tone: "specific"},
            {id: 13, pattern: "Treat {recipient} to the Cadbury \"{message}\" Chocolate Bar and Gift Sleeve. Perfect for celebrations, delivered next day from Cadbury Gifts.", categories: ["envelope"], tone: "treating"},
            {id: 14, pattern: "Order the Cadbury \"{message}\" Dairy Milk Bar with Envelope for {recipient}. Perfect gift for any occasion, shop with next-day delivery from Cadbury Gifts.", categories: ["envelope"], tone: "personal"},
            {id: 15, pattern: "Shop the Cadbury \"{message}\" Chocolate Bar with Gift Envelope today. Perfect for {occasion}, order by 4pm for next-day delivery from Cadbury Gifts.", categories: ["envelope"], tone: "today"},
            {id: 16, pattern: "Send a sweet message with the Cadbury \"{message}\" Dairy Milk Bar and Envelope. Perfect for any occasion, delivered next day from Cadbury Gifts.", categories: ["envelope"], tone: "messaging"},
            {id: 17, pattern: "Buy the Cadbury \"{message}\" Chocolate Bar with Envelope at Cadbury Gifts. Perfect for celebrations, order now with next-day delivery available.", categories: ["envelope"], tone: "available"},
            {id: 18, pattern: "Gift the Cadbury \"{message}\" Dairy Milk Bar with Gift Sleeve to {recipient}. Perfect chocolate gift, shop with next-day delivery from Cadbury Gifts.", categories: ["envelope"], tone: "classic"},
            {id: 19, pattern: "Surprise them with the Cadbury \"{message}\" Chocolate Bar and Envelope. Perfect for {occasion}, order by 4pm for next-day delivery from Cadbury Gifts.", categories: ["envelope"], tone: "surprise2"},
            {id: 20, pattern: "Shop the Cadbury \"{message}\" Dairy Milk Bar with Gift Envelope for {recipient}. Perfect for any occasion, delivered next day from Cadbury Gifts.", categories: ["envelope"], tone: "recipient"},
            {id: 21, pattern: "Order the Cadbury \"{message}\" Chocolate Bar with Envelope today. Perfect gift for {occasion}, shop online with next-day delivery from Cadbury Gifts.", categories: ["envelope"], tone: "online"},
            {id: 22, pattern: "Treat {recipient} to the Cadbury \"{message}\" Dairy Milk Bar and Gift Envelope. Perfect for celebrations, order by 4pm for next-day delivery from Cadbury Gifts.", categories: ["envelope"], tone: "treat"},
            {id: 23, pattern: "Send the Cadbury \"{message}\" Chocolate Bar with Gift Sleeve from Cadbury Gifts. Perfect for any occasion, delivered next day when you order by 4pm.", categories: ["envelope"], tone: "sending"},
            {id: 24, pattern: "Buy the Cadbury \"{message}\" Dairy Milk Bar with Envelope online. Perfect for {occasion}, order today with next-day delivery from Cadbury Gifts.", categories: ["envelope"], tone: "buying"},
            {id: 25, pattern: "Shop the Cadbury \"{message}\" Chocolate Bar and Gift Envelope at Cadbury Gifts. Perfect thoughtful gift, delivered next day when you order by 4pm.", categories: ["envelope"], tone: "shopping"},
            
            // HAMPER TEMPLATES (25) - Product name first, {contents} placeholder
            {id: 26, pattern: "Shop the {name} at Cadbury Gifts. {contents} Perfect for any occasion, order by 4pm for next-day delivery.", categories: ["hamper"], tone: "direct"},
            {id: 27, pattern: "Order the {name} from Cadbury Gifts. {contents} Perfect for celebrations, delivered next day when you order by 4pm.", categories: ["hamper"], tone: "ordering"},
            {id: 28, pattern: "Treat {recipient} to the {name} from Cadbury Gifts. {contents} Perfect for any occasion, shop with next-day delivery.", categories: ["hamper"], tone: "warm"},
            {id: 29, pattern: "Buy the {name} at Cadbury Gifts. {contents} Perfect for {occasion}, order by 4pm for next-day delivery available.", categories: ["hamper"], tone: "buying"},
            {id: 30, pattern: "Send the {name} to {recipient} from Cadbury Gifts. {contents} Perfect gift for any occasion, delivered next day.", categories: ["hamper"], tone: "sending"},
            {id: 31, pattern: "Shop the {name} chocolate hamper at Cadbury Gifts. {contents} Perfect for celebrations, order by 4pm for next-day delivery.", categories: ["hamper"], tone: "shopping"},
            {id: 32, pattern: "Surprise them with the {name} from Cadbury Gifts. {contents} Perfect for any occasion, buy yours with next-day delivery.", categories: ["hamper"], tone: "surprising"},
            {id: 33, pattern: "Order the {name} chocolate hamper today. {contents} Perfect for {occasion}, shop with next-day delivery from Cadbury Gifts.", categories: ["hamper"], tone: "today"},
            {id: 34, pattern: "Gift the {name} from Cadbury Gifts to {recipient}. {contents} Perfect for celebrations, delivered next day when you order by 4pm.", categories: ["hamper"], tone: "gifting"},
            {id: 35, pattern: "Buy the {name} chocolate hamper online at Cadbury Gifts. {contents} Perfect for any occasion, order by 4pm for next-day delivery.", categories: ["hamper"], tone: "online"},
            {id: 36, pattern: "Treat {recipient} to the {name} chocolate hamper. {contents} Perfect for {occasion}, shop with next-day delivery from Cadbury Gifts.", categories: ["hamper"], tone: "treating"},
            {id: 37, pattern: "Shop the {name} at Cadbury Gifts today. {contents} Perfect for celebrations, order by 4pm for next-day delivery available.", categories: ["hamper"], tone: "available"},
            {id: 38, pattern: "Send the {name} chocolate hamper from Cadbury Gifts. {contents} Perfect for any occasion, delivered next day when you order by 4pm.", categories: ["hamper"], tone: "delivery"},
            {id: 39, pattern: "Order the {name} from Cadbury Gifts for {recipient}. {contents} Perfect for {occasion}, shop with next-day delivery.", categories: ["hamper"], tone: "personal"},
            {id: 40, pattern: "Spoil them with the {name} from Cadbury Gifts. {contents} Perfect for celebrations, order by 4pm for next-day delivery.", categories: ["hamper"], tone: "indulgent"},
            {id: 41, pattern: "Buy the {name} chocolate hamper at Cadbury Gifts. {contents} Perfect for any occasion, delivered next day when you order by 4pm.", categories: ["hamper"], tone: "practical"},
            {id: 42, pattern: "Shop the {name} chocolate hamper today at Cadbury Gifts. {contents} Perfect for {occasion}, order by 4pm for next-day delivery.", categories: ["hamper"], tone: "urgent"},
            {id: 43, pattern: "Gift them the {name} from Cadbury Gifts. {contents} Perfect for any occasion, shop online with next-day delivery.", categories: ["hamper"], tone: "giving"},
            {id: 44, pattern: "Treat {recipient} to the {name} at Cadbury Gifts. {contents} Perfect for celebrations, delivered next day when you order by 4pm.", categories: ["hamper"], tone: "celebratory"},
            {id: 45, pattern: "Send the {name} chocolate hamper to {recipient}. {contents} Perfect for {occasion}, order by 4pm for next-day delivery from Cadbury Gifts.", categories: ["hamper"], tone: "recipient"},
            {id: 46, pattern: "Order the {name} chocolate hamper at Cadbury Gifts. {contents} Perfect for any occasion, buy yours with next-day delivery.", categories: ["hamper"], tone: "yours"},
            {id: 47, pattern: "Shop the {name} from Cadbury Gifts for {recipient}. {contents} Perfect for celebrations, delivered next day when you order by 4pm.", categories: ["hamper"], tone: "forrecipient"},
            {id: 48, pattern: "Buy the {name} today at Cadbury Gifts. {contents} Perfect for any occasion, order by 4pm for next-day delivery.", categories: ["hamper"], tone: "buytoday"},
            {id: 49, pattern: "Surprise {recipient} with the {name} chocolate hamper. {contents} Perfect for {occasion}, shop with next-day delivery from Cadbury Gifts.", categories: ["hamper"], tone: "surprise"},
            {id: 50, pattern: "Gift the {name} chocolate hamper from Cadbury Gifts. {contents} Perfect for any occasion, order by 4pm for next-day delivery.", categories: ["hamper"], tone: "gift"},
            
            // SEASONAL TEMPLATES (15) - Product name first
            {id: 51, pattern: "Shop the {name} at Cadbury Gifts. Perfect for {occasion} celebrations, order by 4pm for next-day delivery. Get yours today!", categories: ["seasonal"], tone: "seasonal"},
            {id: 52, pattern: "Order the {name} for {occasion} at Cadbury Gifts. {contents} Perfect for celebrations, delivered next day when you order by 4pm.", categories: ["seasonal"], tone: "occasion"},
            {id: 53, pattern: "Celebrate {occasion} with the {name} from Cadbury Gifts. Perfect for family and friends, order by 4pm for next-day delivery.", categories: ["seasonal"], tone: "family"},
            {id: 54, pattern: "Shop the {name} {occasion} gift at Cadbury Gifts. {contents} Perfect for celebrations, delivered next day when you order by 4pm.", categories: ["seasonal"], tone: "gift"},
            {id: 55, pattern: "Treat them to the {name} this {occasion}. Perfect chocolate gift from Cadbury Gifts, order by 4pm for next-day delivery.", categories: ["seasonal"], tone: "treat"},
            {id: 56, pattern: "Buy the {name} at Cadbury Gifts for {occasion}. {contents} Perfect for celebrations, shop with next-day delivery available.", categories: ["seasonal"], tone: "buy"},
            {id: 57, pattern: "Order the {name} from Cadbury Gifts this {occasion}. Perfect for gifting, delivered next day when you order by 4pm today.", categories: ["seasonal"], tone: "thisoccasion"},
            {id: 58, pattern: "Shop the {name} for {occasion} celebrations at Cadbury Gifts. {contents} Perfect gift, order by 4pm for next-day delivery.", categories: ["seasonal"], tone: "celebrations"},
            {id: 59, pattern: "Make {occasion} special with the {name} from Cadbury Gifts. Perfect for any celebration, order by 4pm for next-day delivery.", categories: ["seasonal"], tone: "special"},
            {id: 60, pattern: "Celebrate {occasion} with the {name} at Cadbury Gifts. {contents} Perfect for gifting, shop with next-day delivery.", categories: ["seasonal"], tone: "celebrate"},
            {id: 61, pattern: "Buy the {name} {occasion} gift from Cadbury Gifts. Perfect for celebrations, delivered next day when you order by 4pm.", categories: ["seasonal"], tone: "buygift"},
            {id: 62, pattern: "Order the {name} for {occasion} today at Cadbury Gifts. {contents} Perfect gift, shop with next-day delivery available.", categories: ["seasonal"], tone: "ordertoday"},
            {id: 63, pattern: "Shop the {name} at Cadbury Gifts this {occasion}. Perfect for family and friends, order by 4pm for next-day delivery.", categories: ["seasonal"], tone: "thisfamily"},
            {id: 64, pattern: "Treat {recipient} to the {name} for {occasion}. Perfect celebration gift from Cadbury Gifts, delivered next day when you order by 4pm.", categories: ["seasonal"], tone: "treatrecipient"},
            {id: 65, pattern: "Send the {name} this {occasion} from Cadbury Gifts. {contents} Perfect for celebrations, order by 4pm for next-day delivery.", categories: ["seasonal"], tone: "send"},
            
            // CORPORATE TEMPLATES (10) - Product name first, professional tone
            {id: 66, pattern: "Shop the {name} for corporate gifting at Cadbury Gifts. Professional chocolate gifts delivered next day when you order by 4pm.", categories: ["corporate"], tone: "professional"},
            {id: 67, pattern: "Order the {name} for your team from Cadbury Gifts. {contents} Perfect for employee appreciation, delivered next day when you order by 4pm.", categories: ["corporate"], tone: "team"},
            {id: 68, pattern: "Treat your team to the {name} at Cadbury Gifts. Professional corporate gifting with next-day delivery when you order by 4pm.", categories: ["corporate"], tone: "treatteam"},
            {id: 69, pattern: "Buy the {name} for corporate occasions at Cadbury Gifts. {contents} Perfect for clients and employees, order by 4pm for next-day delivery.", categories: ["corporate"], tone: "corporate"},
            {id: 70, pattern: "Send the {name} to your team from Cadbury Gifts. Perfect for employee recognition, delivered next day when you order by 4pm.", categories: ["corporate"], tone: "sendteam"},
            {id: 71, pattern: "Shop the {name} corporate gift at Cadbury Gifts. {contents} Professional gifting with next-day delivery when you order by 4pm.", categories: ["corporate"], tone: "corporategift"},
            {id: 72, pattern: "Order the {name} for employee appreciation at Cadbury Gifts. Perfect corporate gift, delivered next day when you order by 4pm.", categories: ["corporate"], tone: "appreciation"},
            {id: 73, pattern: "Gift your team the {name} from Cadbury Gifts. {contents} Perfect for corporate occasions, order by 4pm for next-day delivery.", categories: ["corporate"], tone: "giftteam"},
            {id: 74, pattern: "Buy the {name} for clients at Cadbury Gifts. Professional chocolate gifting, delivered next day when you order by 4pm today.", categories: ["corporate"], tone: "clients"},
            {id: 75, pattern: "Treat employees to the {name} from Cadbury Gifts. {contents} Perfect corporate gift, order by 4pm for next-day delivery.", categories: ["corporate"], tone: "employees"},
            
            // LUXURY TEMPLATES (10) - Product name first, premium tone
            {id: 76, pattern: "Shop the {name} luxury hamper at Cadbury Gifts. {contents} Perfect for special occasions, order by 4pm for next-day delivery.", categories: ["luxury"], tone: "luxury"},
            {id: 77, pattern: "Indulge in the {name} from Cadbury Gifts. {contents} Perfect luxury gift for celebrations, delivered next day when you order by 4pm.", categories: ["luxury"], tone: "indulge"},
            {id: 78, pattern: "Order the {name} premium hamper at Cadbury Gifts. {contents} Perfect for special moments, shop with next-day delivery.", categories: ["luxury"], tone: "premium"},
            {id: 79, pattern: "Treat them to the {name} luxury hamper from Cadbury Gifts. {contents} Perfect for celebrations, order by 4pm for next-day delivery.", categories: ["luxury"], tone: "luxurytreat"},
            {id: 80, pattern: "Buy the {name} at Cadbury Gifts. {contents} Perfect luxury gift for special occasions, delivered next day when you order by 4pm.", categories: ["luxury"], tone: "luxurybuy"},
            {id: 81, pattern: "Shop the {name} premium gift at Cadbury Gifts. {contents} Perfect for celebrations, order by 4pm for next-day delivery.", categories: ["luxury"], tone: "premiumgift"},
            {id: 82, pattern: "Celebrate in style with the {name} from Cadbury Gifts. {contents} Perfect luxury hamper, delivered next day when you order by 4pm.", categories: ["luxury"], tone: "style"},
            {id: 83, pattern: "Order the {name} luxury gift at Cadbury Gifts. {contents} Perfect for special moments, shop with next-day delivery available.", categories: ["luxury"], tone: "luxurygift"},
            {id: 84, pattern: "Spoil them with the {name} premium hamper from Cadbury Gifts. {contents} Perfect for celebrations, order by 4pm for next-day delivery.", categories: ["luxury"], tone: "spoil"},
            {id: 85, pattern: "Gift the {name} luxury hamper at Cadbury Gifts. {contents} Perfect for special occasions, delivered next day when you order by 4pm.", categories: ["luxury"], tone: "luxurygifting"}
        ];

        // Smart category detection
        function detectCategoryFromName(productName) {
            const name = productName.toLowerCase();
            if (name.includes('envelope') || name.includes('sleeve')) return 'envelope';
            if (name.includes('hamper') || name.includes('basket') || name.includes('gift box')) return 'hamper';
            if (name.includes('easter') || name.includes('christmas') || name.includes('valentine')) return 'seasonal';
            if (name.includes('corporate') || name.includes('employee') || name.includes('team')) return 'corporate';
            if (name.includes('luxury') || name.includes('premium') || name.includes('ultimate') || name.includes('wine')) return 'luxury';
            return 'envelope';
        }

        // Extract information from product name
        function extractProductInfo(productName, category) {
            const fullText = productName.toLowerCase();
            
            const info = {
                name: productName,
                recipient: 'them',
                occasion: 'any occasion',
                message: '',
                weight: '110g',
                contents: 'Filled with delicious Cadbury favourites.',
                productType: category === 'hamper' ? 'chocolate hamper' : 'chocolate bar'
            };

            // Extract recipient
            if (fullText.includes('mum') || fullText.includes('mother')) info.recipient = 'her';
            else if (fullText.includes('dad') || fullText.includes('father')) info.recipient = 'him';
            else if (fullText.includes('grandad')) info.recipient = 'Grandad';
            else if (fullText.includes('grandma')) info.recipient = 'Grandma';
            else if (fullText.includes('wife')) info.recipient = 'your partner';
            else if (fullText.includes('husband')) info.recipient = 'your partner';
            else if (fullText.includes('friend')) info.recipient = 'your friend';
            else if (fullText.includes('teacher')) info.recipient = 'their teacher';
            else if (fullText.includes('team')) info.recipient = 'your team';
            
            // Extract occasion
            if (fullText.includes('easter')) info.occasion = 'Easter';
            else if (fullText.includes('christmas')) info.occasion = 'Christmas';
            else if (fullText.includes('birthday')) info.occasion = 'birthdays';
            else if (fullText.includes('valentine')) info.occasion = "Valentine's Day";
            else if (fullText.includes('mother') && fullText.includes('day')) info.occasion = "Mother's Day";
            else if (fullText.includes('father') && fullText.includes('day')) info.occasion = "Father's Day";
            
            // Extract message - look for common phrases
            const messagePatterns = [
                'best mum', 'best dad', 'best grandad', 'best grandma', 'best friend',
                'i love you', 'love you', 'thank you', 'well done', 'congratulations',
                'great job', 'happy birthday', 'special wife', 'special husband', 
                "you're amazing", 'happy easter', 'merry christmas'
            ];
            
            for (const pattern of messagePatterns) {
                if (fullText.includes(pattern)) {
                    info.message = pattern.split(' ').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' ');
                    break;
                }
            }
            
            // If no message found, use product name
            if (!info.message) {
                info.message = productName;
            }
            
            // Extract weight
            const weightMatch = productName.match(/(\d+)g/i);
            if (weightMatch) {
                info.weight = weightMatch[0];
            }
            
            return info;
        }

        // Generate variations
        function generateVariations(info, category) {
            const relevantTemplates = templates.filter(t => t.categories.includes(category));
            const shuffled = [...relevantTemplates].sort(() => Math.random() - 0.5);
            const selected = shuffled.slice(0, 1);
            
            const variations = [];

            for (const template of selected) {
                let description = template.pattern;

                // Replace placeholders
                description = description
                    .replace(/\{name\}/g, info.name)
                    .replace(/\{recipient\}/g, info.recipient)
                    .replace(/\{message\}/g, info.message)
                    .replace(/\{occasion\}/g, info.occasion)
                    .replace(/\{weight\}/g, info.weight)
                    .replace(/\{contents\}/g, info.contents)
                    .replace(/\{productType\}/g, info.productType);

                variations.push({
                    text: description,
                    charCount: description.length,
                    tone: template.tone
                });
            }

            return variations;
        }

        // Generate descriptions
        function generateDescriptions() {
            const productName = document.getElementById('productName').value.trim();

            if (!productName) {
                alert('Please enter a product name');
                return;
            }

            const btn = document.getElementById('generateBtn');
            btn.disabled = true;
            btn.textContent = 'Generating...';

            const resultsDiv = document.getElementById('results');
            resultsDiv.style.display = 'block';
            resultsDiv.innerHTML = '<div class="loading"><div class="spinner"></div><p>Creating your meta description...</p></div>';

            setTimeout(() => {
                const category = detectCategoryFromName(productName);
                const info = extractProductInfo(productName, category);
                const descriptions = generateVariations(info, category);
                
                displayResults(descriptions, productName);
                
                btn.disabled = false;
                btn.textContent = '‚ú® Generate Meta Description';
            }, 400);
        }

        // Display results
        function displayResults(descriptions, productName) {
            const resultsDiv = document.getElementById('results');
            const desc = descriptions[0];
            const charStatus = desc.charCount < 145 ? 'warning' : desc.charCount > 160 ? 'error' : '';
            const charMessage = desc.charCount < 145 ? '(a bit short)' : desc.charCount > 160 ? '(a bit long)' : '(perfect length)';
            
            const html = `
                <div class="result-item" id="result-0">
                    <div class="result-text">${desc.text}</div>
                    <div class="result-meta">
                        <span class="char-count ${charStatus}">
                            ${desc.charCount} characters ${charMessage} ‚Ä¢ ${desc.tone} tone
                        </span>
                        <div class="actions">
                            <button class="btn btn-copy" onclick="copyToClipboard('${desc.text.replace(/'/g, "\\'")}')">
                                üìã Copy
                            </button>
                        </div>
                    </div>
                </div>
                <div style="text-align: center;">
                    <button class="regenerate-btn" onclick="regenerateDescription()">
                        <span class="regenerate-icon">üîÑ</span> Generate Different Option
                    </button>
                </div>
            `;

            resultsDiv.innerHTML = html;
        }

        // Regenerate
        function regenerateDescription() {
            const productName = document.getElementById('productName').value.trim();
            const category = detectCategoryFromName(productName);
            const info = extractProductInfo(productName, category);
            const descriptions = generateVariations(info, category);
            displayResults(descriptions, productName);
        }

        // Copy to clipboard
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = '‚úì Copied!';
                btn.classList.add('copied');
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.classList.remove('copied');
                }, 2000);
            });
        }
    </script>
</body>
</html>
